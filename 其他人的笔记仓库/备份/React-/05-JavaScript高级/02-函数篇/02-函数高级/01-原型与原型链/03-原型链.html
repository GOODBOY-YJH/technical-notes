<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>03-原型链</title>
</head>

<body>
  <img src="./原型链分析.png" alt="">
  <script>
    /**
     * 访问一个对象的属性时:
     * 1. 先在自身属性中查找，找到返回
     * 2. 如果没有，再沿着__proto__这条链向上查找，找到返回
     * 3. 如果最终没找到，返回 undefined
     * 4. 沿着 __proto__ 查找的这条链就是原型链
     */


    function Fn() {
      this.test1 = function () {
        console.log('test1()')
      }
    }
    Fn.prototype.test2 = function () {
      console.log('test2()')
    }
    var fn = new Fn()

    fn.test1()
    fn.test2()
    console.log(fn.toString()) // 能找到
    // fn.test3(); // 找不到

    // 因为定义函数方式可以是：var obj = new Object();，所以任意函数都可以看做 Object 对象的实例化对象

    // 找 toString()
    // 所以如上题，Fn() 中找不到 toString() 方法，沿着 Fn.__proto__找到 Object 对象，在找到 Obect.prototype 找到 toString()

    // 找 test3() 报错：
    // 不是单单因为找不到而报错
    // 在对象中找不到变量不会报错，会返回 undefined，而找方法找不到就变成了 undefined()，故报错
    // 故 test3 中有值，为 undefined，而 test3() 报错
    // 图解
  </script>
</body>

</html>