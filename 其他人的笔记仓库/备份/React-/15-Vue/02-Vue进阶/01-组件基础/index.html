<!DOCTYPE html>
<html lang="zh-CN">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
	</head>
	<body>
		<div id="app">
			<!-- 按钮 -->
			<button-counter></button-counter>
			<button-counter></button-counter>
			<button-counter></button-counter>

			<!-- 文章展示 -->
			<blog-post
				v-for="(post, index) in posts"
				:key="post.id"
				:title="post.title"
			></blog-post>
		</div>

		<script src="../js/vue.js"></script>
		<script>
			// 定义一个名为 button-counter 的新组件
			Vue.component('button-counter', {
				// 配置对象

				// data必须使用函数形式，如果是对象则每个组件标签的值都相等
				data: function () {
					return {
						count: 0,
					}
				},
				template:
					'<button v-on:click="count++">You clicked me {{ count }} times.</button>',
			})

			// 定义文章的组件
			Vue.component('blog-post', {
				// 声明接收属性
				props: ['title'], // 书写在组件标签中

				// 组件中可以调用其他组件
				template:
					'<div><h1>{{title}}</h1> <button-counter></button-counter></div>',
			})

			new Vue({
				el: '#app',
				data() {
					return {
						posts: [
							{ id: 1, title: 'My journey with Vue' },
							{ id: 2, title: 'Blogging with Vue' },
							{ id: 3, title: 'Why Vue is so fun' },
						],
					}
				},
			})
		</script>
	</body>
</html>
