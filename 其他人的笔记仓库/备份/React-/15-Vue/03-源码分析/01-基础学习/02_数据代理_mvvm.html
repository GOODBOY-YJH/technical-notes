<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<title>02_数据代理</title>
	</head>
	<body>
		<!--
    1. vue数据代理: data对象的所有属性的操作(读/写)由vm对象来代理操作
    2. 好处: 通过vm对象就可以方便的操作data中的数据
    3. 实现过程:
        1). 通过Object.defineProperty(vm, key, {})给vm添加与data对象的属性对应的属性
        2). 所有添加的属性都包含get/set方法
        3). 当读取数据时自动调用get方法，读取并返回data中对应的属性值
        4). 当设置数据时自动调用
    -->

		<div id="test"></div>

		<script src="./js/compile.js"></script>
		<script src="./js/mvvm.js"></script>
		<script src="./js/observer.js"></script>
		<script src="./js/watcher.js"></script>
		<script>
			const vm = new MVVM({
				el: '#test',
				data: {
					name: 'tim',
				},
			})

			console.log(vm)
			console.log(vm.name) // 代理读操作

			vm.name = 'Jack' // 代理写操作
			console.log(vm._data.name)
		</script>
	</body>
</html>
