<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>两种简写方式</title>
</head>

<body>

  <div id="example"></div>
  <div id="example2"></div>

  <script type="text/javascript" src="../js/react.development.js"></script>
  <script type="text/javascript" src="../js/react-dom.development.js"></script>
  <script type="text/javascript" src="../js/babel.min.js"></script>

  <script type="text/babel">
    /**
     * 简写的原理
     * 1. state初始化简写原理：在类中可直接对变量赋值
     * 2. 函数简写原理：箭头函数的this指向与外层一致，故无需担心this问题
     */

    class Pig extends React.Component {
      // 初始化状态
      state = { isPig: true }

      // 自定义一个响应点击的函数
      handlerClick = () => {
        let isPig = !this.state.isPig
        // 如下代码属于直接更改状态，不会被react所认可，不会被react监听到
        // this.state.isPig = isPig //不可以直接修改状态数据
        // 要更新状态，必须使用this.setState()
        this.setState({ isPig })
      }

      // 重写父类的render
      render() {
        let { isPig } = this.state
        // 如下代码，在指定点击事件的时候，不要加()
        return <h2 onClick={this.handlerClick}>{isPig ? '佩奇是一头可爱的猪' : '佩奇不是猪'}</h2>
      }
    }

    ReactDOM.render(<Pig />, document.getElementById('example'))
    ReactDOM.render(<Pig />, document.getElementById('example2'))



  </script>
</body>

</html>